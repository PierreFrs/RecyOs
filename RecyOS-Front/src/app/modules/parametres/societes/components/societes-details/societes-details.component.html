<div class="flex flex-col p-3">
    <div class="mt-3 text-4xl font-bold truncate">{{selectedSociete?.nom}}</div>
    <div class="flex sm:flex-col lg:flex-row w-full gap-4">
        <div class="flex flex-col gap-4 max-w-160 sm:items-start w-full">
            <!-- Nom et ID Odoo -->
            <div class="flex flex-row w-full">
                <app-input-field
                    class="w-full"
                    [label]="'Nom'"
                    [control]="nomControl"
                    [readonly]="!userCanUpdateSociete && !userIsAdmin"
                    [errorMessages]="{required: 'Le nom est requis'}">
                </app-input-field>
                <app-input-field
                    class="w-full"
                    [label]="'ID Odoo'"
                    [control]="idOdooControl"
                    [readonly]="!userCanUpdateSociete && !userIsAdmin"
                    [errorMessages]="{required: 'L\'ID Odoo est requis'}">
                </app-input-field>
            </div>
        </div>
    </div>

    <!-- Actions -->
    <div class="flex items-center justify-end gap-4 w-full border-t px-8 py-4">
        <div class="flex items-center">
            <div
                *ngIf="flashMessage"
                class="flex items-center mr-4">
                <ng-container *ngIf="flashMessage === 'success'">
                    <mat-icon
                        class="text-green-500"
                        [svgIcon]="'heroicons_outline:check'"></mat-icon>
                    <span class="ml-2">Société mise à jour</span>
                </ng-container>
                <ng-container *ngIf="flashMessage === 'error'">
                    <mat-icon
                        class="text-red-500"
                        [svgIcon]="'heroicons_outline:x'"></mat-icon>
                    <span class="ml-2">Une erreur est survenue lors de la mise à jour !</span>
                </ng-container>
            </div>
            <button
                mat-flat-button
                [color]="'primary'"
                (click)="updateSociete()"
                [disabled]="!userCanUpdateSociete && !userIsAdmin || selectedSocieteForm.invalid">
                Mettre à jour
            </button>
        </div>
        <div class="flex items-center">
            <button
                mat-flat-button
                [color]="'warn'"
                (click)="deleteSociete()"
                [disabled]="!userCanDeleteSociete && !userIsAdmin">
                Supprimer
            </button>
        </div>
    </div>
</div> 